[gd_scene load_steps=12 format=3 uid="uid://631pf63y7wqo"]

[ext_resource type="PackedScene" uid="uid://k8inc765efmm" path="res://player/player.tscn" id="1_6ae7q"]
[ext_resource type="PackedScene" uid="uid://dg2lpxirhvole" path="res://level/boundary.tscn" id="2_biafw"]
[ext_resource type="Texture2D" uid="uid://c2hyng885tdmu" path="res://assets/sprite sheet.png" id="2_umdq8"]
[ext_resource type="PackedScene" uid="uid://c7igustukqvma" path="res://components/interaction_component.tscn" id="4_kgmax"]
[ext_resource type="Script" uid="uid://ygghh06jen7" path="res://player/drone_area.gd" id="5_3178a"]
[ext_resource type="Texture2D" uid="uid://mlmboodiiuvb" path="res://assets/160+ Cursors Crosshairs - Pack (32x32)/white/80.png" id="5_mshal"]
[ext_resource type="PackedScene" uid="uid://flcja1x22vf6" path="res://player/detection_area.tscn" id="6_m7lgq"]
[ext_resource type="Texture2D" uid="uid://bjy71ka32hxpk" path="res://assets/circle.png" id="7_fa2mc"]

[sub_resource type="AtlasTexture" id="AtlasTexture_fa2mc"]
atlas = ExtResource("2_umdq8")
region = Rect2(72, 16, 16, 24)

[sub_resource type="CircleShape2D" id="CircleShape2D_m7lgq"]
radius = 654.9412

[sub_resource type="CircleShape2D" id="CircleShape2D_3178a"]
radius = 250.0

[node name="PlayerCaptain" node_paths=PackedStringArray("interaction") instance=ExtResource("1_6ae7q")]
input_left = "left3"
input_right = "right3"
input_up = "up3"
input_down = "down3"
is_captain = true
move_speed = 0.1
friction = 0.8
rotation_smoothness = 2.0
interaction = NodePath("InteractionComponent")

[node name="Sprite2D" parent="." index="0"]
z_index = -1
rotation = 3.1415927
scale = Vector2(5, 5)
texture = SubResource("AtlasTexture_fa2mc")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="." index="1"]
scale = Vector2(2.5, 2.5)
polygon = PackedVector2Array(19.2, 26.4, 19.2, 11.6, 5.2, -15.6, 2.4, -26.8, -2.4, -26.8, -5.2, -15.6, -19.2, 11.6, -19.6, 26.4)
disabled = true

[node name="CollisionShape2D" parent="." index="3"]
position = Vector2(0, 5)

[node name="InteractionComponent" parent="." index="4" instance=ExtResource("4_kgmax")]
interact_name = "Recycle"
interact_duration = 2.0

[node name="CollisionShape2D" parent="InteractionComponent" index="0"]
position = Vector2(0, 2)

[node name="HitboxComponent_Area2D#CollisionPolygon2D2" type="CollisionPolygon2D" parent="InteractionComponent" index="1"]
scale = Vector2(2.5, 2.5)
polygon = PackedVector2Array(19.2, 29.6, 23.6, 12.4, 8.4, -16, 5.2, -28.4, -4.4, -28.4, -8, -16, -23.6, 12.4, -19.6, 30)

[node name="InteractionController" parent="." index="5"]
collision_layer = 8

[node name="HitboxComponent_Area2D#CollisionPolygon2D2" type="CollisionPolygon2D" parent="InteractionController" index="0"]
scale = Vector2(2.5, 2.5)
polygon = PackedVector2Array(19.2, 29.6, 23.6, 12.4, 8.4, -16, 5.2, -28.4, -4.4, -28.4, -8, -16, -23.6, 12.4, -19.6, 30)

[node name="Boundary" parent="." index="6" instance=ExtResource("2_biafw")]

[node name="HitboxComponent_Area2D#CollisionPolygon2D2" type="CollisionPolygon2D" parent="HitboxComponent" index="1"]
scale = Vector2(2.5, 2.5)
build_mode = 1
polygon = PackedVector2Array(19.2, 26.4, 19.2, 11.6, 5.2, -15.6, 2.4, -26.8, -2.4, -26.8, -5.2, -15.6, -19.2, 11.6, -19.6, 26.4)

[node name="RadarObjComponent" parent="." index="9"]
visible = true
is_detectable = true

[node name="DroneArea" type="Area2D" parent="RadarObjComponent" index="0"]
light_mask = 0
visibility_layer = 2
z_index = -2
collision_layer = 0
collision_mask = 32
script = ExtResource("5_3178a")

[node name="DetectionRadius" type="Sprite2D" parent="RadarObjComponent/DroneArea" index="0"]
modulate = Color(0.8784314, 0.3764706, 0.78431374, 0.3137255)
light_mask = 0
visibility_layer = 2
z_index = -2
position = Vector2(0.09999983, -0.5000012)
texture = ExtResource("7_fa2mc")

[node name="CollisionShape2D" type="CollisionShape2D" parent="RadarObjComponent/DroneArea" index="1"]
shape = SubResource("CircleShape2D_m7lgq")

[node name="DetectionArea" parent="RadarObjComponent" index="1" instance=ExtResource("6_m7lgq")]
unique_name_in_owner = true
z_index = -2
position = Vector2(1.7881393e-07, 9.536743e-06)
rotation = -6.357302e-08
scale = Vector2(1, 1)

[node name="DetectionRadius" parent="RadarObjComponent/DetectionArea" index="0"]
modulate = Color(0.6884535, 1.353256, 0.7041575, 0.5254902)
scale = Vector2(0.4, 0.4)

[node name="CollisionShape2D" parent="RadarObjComponent/DetectionArea" index="1"]
shape = SubResource("CircleShape2D_3178a")

[node name="MiniMapIcon" parent="RadarObjComponent" index="2"]
modulate = Color(0.27835503, 1.4178978, 0.55013067, 1)
position = Vector2(0.9999981, 31.999998)
rotation = 3.1415927
scale = Vector2(10, 10)
texture = ExtResource("5_mshal")

[editable path="InteractionComponent"]
[editable path="InteractionController"]
[editable path="HitboxComponent"]
[editable path="RadarObjComponent"]
[editable path="RadarObjComponent/DetectionArea"]
